<!DOCTYPE html> 
{%load static%}
<html lang="en">
	
<!-- easyrdvS/login.html  30 Nov 2019 04:12:20 GMT -->
<head>
		<meta charset="utf-8">
		<title>EasyRDV</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
		
		<!-- Favicons -->
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="{%static 'assets/css/bootstrap.min.css' %}">
		
		<!-- Fontawesome CSS -->
		<link rel="stylesheet" href="{%static 'assets/plugins/fontawesome/css/fontawesome.min.css'%}">
		<link rel="stylesheet" href="{%static 'assets/plugins/fontawesome/css/all.min.css'%}">
		
		<!-- Main CSS -->
		<link rel="stylesheet" href="{%static 'assets/css/style.css'%}">
		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="{%static'assets/js/html5shiv.min.js"></script>
			<script src="{%static'assets/js/respond.min.js"></script>
		<![endif]-->
	
	</head>
	<body class="account-page">

		<!-- Main Wrapper -->
		<div class="main-wrapper">
		
			<header class="header">
				<nav class="navbar navbar-expand-lg header-nav">
					<div class="navbar-header">
						<a id="mobile_btn" href="javascript:void(0);">
							<span class="bar-icon">
								<span></span>
								<span></span>
								<span></span>
							</span>
						</a>
						<a href="index-2.html" class="navbar-brand logo">
							<img src="{%static 'assets/img/logo.png'%}" class="img-fluid" alt="Logo">
						</a>
					</div>
					<div class="main-menu-wrapper">
						<div class="menu-header">
							<a href="index-2.html" class="menu-logo">
								<img src="{%static 'assets/img/logo.png'%}
								++" class="img-fluid" alt="Logo">
							</a>
							<a id="menu_close" class="menu-close" href="javascript:void(0);">
								<i class="fas fa-times"></i>
							</a>
						</div>
						<ul class="main-nav">
							<li>
								<a href="index-2.html">Home</a>
							</li>
							<li class="has-submenu">
								<a href="#">Doctors <i class="fas fa-chevron-down"></i></a>
								<ul class="submenu">
									<li><a href="{%url 'doc_dashboard'%}">Doctor Dashboard</a></li>
									<li><a href="{%url 'doc_sch_time'%}">Schedule Timing</a></li>
									
									<li><a >Profile Settings</a></li>
									<li><a>Reviews</a></li>
									<li><a href="{% url 'doc_register' %}">Doctor Register</a></li>
								</ul>
							</li>	
							<li class="has-submenu active">
								<a href="#">Laboratories <i class="fas fa-chevron-down"></i></a>
                                <ul class="submenu">
									<li > <a href="{%url 'lab_dashboard'%}">Appointment dashboard.</a></li>
									<li><a href="doctor-profile.html">Analysis Services</a></li>
									<li><a href="{%url 'lab_send_analysis'%}">Send analysis</a></li>							
									<li><a href="profile-settings.html">Profile Settings</a></li>
									<li><a href="change-password.html">Change Password</a></li>
								</ul>

							</li>	
							
								<a href="admin/index.html" target="_blank">Admin</a>
							</li>
							<li class="login-link">
								<a href="login.html">Login / Signup</a>
							</li>
						</ul>
					</div>		 
					<ul class="nav header-navbar-rht">
						<li class="nav-item contact-item">
							<div class="header-contact-img">
								<i class="far fa-hospital"></i>							
							</div>
							<div class="header-contact-detail">
								<p class="contact-header">Contact</p>
								<p class="contact-info-header"> 0656146690
								
								</p>
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link header-login" href="login.html">login / Signup </a>
						</li>
					</ul>
				</nav>
			</header>
			
			<!-- Page Content -->
			<div class="content">
				<div class="container-fluid">
					
					<div class="row">
						<div class="col-md-8 offset-md-2">
							
							<!-- Login Tab Content -->
							<div class="account-content">
								<div class="row align-items-center justify-content-center">
									<div class="col-md-7 col-lg-6 login-left">
										<img src="{%static 'assets/img/login-lab.png'%}" class="img-fluid" alt="EasyRDV Login">	
									</div>
									<div class="col-md-12 col-lg-6 login-right">
										<div class="login-header">
											<h3>Login <span>EasyRDV</span></h3>
										</div>
										<form id="login-form">
											{%csrf_token%}
											<div class="form-group form-focus">
												<input type="email" class="form-control floating" id="email">
												<label class="focus-label">Email</label>
											</div>
											<div class="form-group form-focus">
												<input type="password" class="form-control floating" id="password" name="password">
												<label class="focus-label">Password</label>
											</div>
											
											<div class="text-right">
												{%if message%}
												<p class="forgot-link">{{message}}<p>
												{%endif%}
												<a class="forgot-link" href="forgot-password.html">Forgot Password ?</a>
											</div>
											<button class="btn btn-primary btn-block btn-lg login-btn" type="submit" id="submit_btn">Login</button>
											<div class="login-or">
												<span class="or-line"></span>
												<span class="span-or">or</span>
											</div>
											<div class="row form-row social-login">
												<div class="col-6">
													<a href="#" class="btn btn-facebook btn-block"><i class="fab fa-facebook-f mr-1"></i> Login</a>
												</div>
												<div class="col-6">
													<a href="#" class="btn btn-google btn-block"><i class="fab fa-google mr-1"></i> Login</a>
												</div>
											</div>
											<div class="text-center dont-have">Don’t have an account? <a href="{%url 'lab_register'%}">Register</a></div>
										</form>
									</div>
								</div>
							</div>
							<!-- /Login Tab Content -->
								
						</div>
					</div>

				</div>

			</div>		
			<!-- /Page Content -->
   
			<!-- Footer -->
			<footer class="footer">
				
				<!-- Footer Top -->
				<div class="footer-top">
					<div class="container-fluid">
						<div class="row">
							<div class="col-lg-3 col-md-6">
							
								<!-- Footer Widget -->
								<div class="footer-widget footer-about">
									<div class="footer-logo">
										<img src="{%static 'assets/img/logoT.png'%}" alt="logo">
									</div>
									<div class="footer-about-content">
										<p>phrase tkon mliha 3la easyrdv. </p>
										<div class="social-icon">
											<ul>
												<li>
													<a href="#" target="_blank"><i class="fab fa-facebook-f"></i> </a>
												</li>
												<li>
													<a href="#" target="_blank"><i class="fab fa-twitter"></i> </a>
												</li>
												<li>
													<a href="#" target="_blank"><i class="fab fa-linkedin-in"></i></a>
												</li>
												<li>
													<a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
												</li>
												<li>
													<a href="#" target="_blank"><i class="fab fa-dribbble"></i> </a>
												</li>
											</ul>
										</div>
									</div>
								</div>
								<!-- /Footer Widget -->
								
							</div>
							
							<div class="col-lg-3 col-md-6">
							
								<!-- Footer Widget -->
								<div class="footer-widget footer-menu">
									<h2 class="footer-title">For Laboratories</h2>
									<ul>
										<li><a href="Laboratories-login.html"><i class="fas fa-angle-double-right"></i>login.</a></li>
										<li><a href="laboratories-dashboard.html"><i class="fas fa-angle-double-right"></i>Appointment dashboard.</a></li>
										<li><a href="laboratories-avaible-analyses.html"><i class="fas fa-angle-double-right"></i>Analysis Services</a></li>
										<li><a href="laboratories-send-result-analisis.html"><i class="fas fa-angle-double-right"></i>Send analysis</a></li>							
										<li><a href="Laboratories-profilSeting.html"><i class="fas fa-angle-double-right"></i>Profile Settings</a></li>
										<li><a href="laboratories-change-password.html"><i class="fas fa-angle-double-right"></i>Change Password</a></li>
			
									</ul>
								</div>
								<!-- /Footer Widget -->
								
							</div>
							
							<div class="col-lg-3 col-md-6">
							
								<!-- Footer Widget -->
								<div class="footer-widget footer-menu">
									<h2 class="footer-title">For Doctors</h2>
									<ul>
										<li><a href="appointments.html"><i class="fas fa-angle-double-right"></i> Appointments</a></li>
										<li><a href="laboratories-schedule-timings.html"><i class="fas fa-angle-double-right"></i> schedule timings</a></li>
										<li><a href="doctor-login.html"><i class="fas fa-angle-double-right"></i> Login</a></li>
										<li><a href="doctor-register.html"><i class="fas fa-angle-double-right"></i> Register</a></li>
										<li><a href="doctor-dashboard.html"><i class="fas fa-angle-double-right"></i> Doctor Dashboard</a></li>
									</ul>
								</div>
								<!-- /Footer Widget -->
								
							</div>
							
							<div class="col-lg-3 col-md-6">
							
								<!-- Footer Widget -->
								<div class="footer-widget footer-contact">
									<h2 class="footer-title">Contact Us</h2>
									<div class="footer-contact-info">
										<div class="footer-address">
											<span><i class="fas fa-map-marker-alt"></i></span>
											<p> cité invesstisseur <br> oum el bouaghi</p>
										</div>
										<p>
											<i class="fas fa-phone-alt"></i>
											0656146690
										</p>
										<p class="mb-0">
											<i class="fas fa-envelope"></i>
											salahmaou16@gmail.com
										</p>
									</div>
								</div>
								<!-- /Footer Widget -->
								
								
							</div>
							
						</div>
					</div>
				</div>
				<!-- /Footer Top -->
				
				<!-- Footer Bottom -->
				
			</footer>
			<!-- /Footer -->
		   
		</div>
		<!-- /Main Wrapper -->
	  
		<!-- jQuery -->
		<script src="{%static 'assets/js/jquery.min.js'%}"></script>
		
		<!-- Bootstrap Core JS -->
		<script src="{%static 'assets/js/popper.min.js'%}"></script>
		<script src="{%static 'assets/js/bootstrap.min.js'%}"></script>
		
		<!-- Custom JS -->
		<script src="{%static 'assets/js/script.js'%}"></script>
		<script type="text/javascript">
			window.CSRF_TOKEN = '{{ csrf_token }}';
		</script>
		<script type="module">
			// Import the functions you need from the SDKs you need
			import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
			import { getAuth, signInWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';
			import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';
	
			// Your web app's Firebase configuration
			const firebaseConfig = {
				apiKey: "AIzaSyBqxNtiEwygfIfp7I-JiE6GdCiiS3gHBD4",
				projectId: "easyrdv-cfe1c",
				storageBucket: "easyrdv-cfe1c.appspot.com",
				appId: "1:995927508473:android:99f6e9baf89ebe1d36a928"
			};
	
			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
	
			// Initialize Firebase Authentication and get a reference to the service
			const auth = getAuth(app);
			
			// Optionally, initialize Firestore if you need it
			const db = getFirestore(app);
			
			// Function to handle user sign in
			async function handleSignIn(email, password) {
				try{
					const userCredential = await signInWithEmailAndPassword(auth, email, password);
					return userCredential.user.uid;
				}
				catch{
					return null;
				}
			}
	
			// Function to send the ID token to the backend

	
			// Function to get the CSRF token

			// Event listener for the login form
			document.addEventListener('DOMContentLoaded', function() {
				const loginForm = document.getElementById('login-form');
				loginForm.addEventListener('submit', function(event) {
					event.preventDefault();
					const email = document.getElementById('email').value;
					const password = document.getElementById('password').value;
					let uidpromise = handleSignIn(email, password);
					uidpromise.then(uid=>{const uidInput = document.createElement('input');
					uidInput.type = 'hidden';  // or 'text' if you want to see it
					uidInput.name = 'uid'; // Name attribute should match Django view's expected parameter name
					uidInput.value = uid;
		
					// Append the input field to the form
					const tokenForm = document.getElementById('login-form');
					tokenForm.action = "{%url 'lab_login'%}"
					tokenForm.method = "post"
					tokenForm.appendChild(uidInput);
		
					// Simulate form submission
					const submitButton = document.getElementById('submit_btn');
					tokenForm.submit();})
					.catch(error=>{
						const uidInput = document.createElement('input');
						uidInput.type = 'hidden';  // or 'text' if you want to see it
					uidInput.name = 'uid'; // Name attribute should match Django view's expected parameter name
					uidInput.value = '';
		
					// Append the input field to the form
					const tokenForm = document.getElementById('login-form');
					tokenForm.action = "{%url 'lab_login'%}"
					tokenForm.method = "post"
					tokenForm.appendChild(uidInput);
		
					// Simulate form submission
					const submitButton = document.getElementById('submit_btn');
					tokenForm.submit();
					})
					
				});
			});
		</script>
		
	</body>

<!-- doccure/login.html  30 Nov 2019 04:12:20 GMT -->
</html>